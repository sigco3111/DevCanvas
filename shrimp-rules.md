# DevCanvas 개발 가이드라인

## 프로젝트 개요

### 목적
- DevCanvas는 개발자를 위한 시각적 개발 도구 및 캔버스 플랫폼입니다
- 코드 시각화, 프로젝트 관리, 협업 기능을 제공합니다
- 웹 기반 인터페이스를 통한 직관적인 개발 환경을 구축합니다

### 기술 스택
- **프론트엔드**: React, TypeScript, Tailwind CSS
- **백엔드**: Node.js, Express, TypeScript
- **데이터베이스**: PostgreSQL, Redis
- **배포**: Docker, AWS/Vercel

## 프로젝트 아키텍처

### 디렉토리 구조 표준
```
DevCanvas/
├── src/
│   ├── components/     # 재사용 가능한 UI 컴포넌트
│   ├── pages/         # 페이지 컴포넌트
│   ├── hooks/         # 커스텀 React 훅
│   ├── utils/         # 유틸리티 함수
│   ├── types/         # TypeScript 타입 정의
│   ├── api/           # API 관련 코드
│   └── styles/        # 스타일 파일
├── public/            # 정적 파일
├── docs/              # 문서
├── tests/             # 테스트 파일
└── server/            # 백엔드 코드
    ├── routes/        # API 라우트
    ├── models/        # 데이터 모델
    ├── middleware/    # 미들웨어
    └── utils/         # 서버 유틸리티
```

### 필수 생성 규칙
- **새 컴포넌트 생성 시**: `src/components/` 디렉토리에 폴더 생성 후 `index.tsx`와 `types.ts` 파일 포함
- **새 페이지 생성 시**: `src/pages/` 디렉토리에 생성하고 라우팅 설정 업데이트
- **API 엔드포인트 생성 시**: `server/routes/` 디렉토리에 생성하고 메인 라우터에 등록

## 코드 표준

### 명명 규칙
- **컴포넌트**: PascalCase (예: `UserProfile`, `NavigationBar`)
- **파일명**: kebab-case (예: `user-profile.tsx`, `navigation-bar.tsx`)
- **변수/함수**: camelCase (예: `userName`, `handleSubmit`)
- **상수**: UPPER_SNAKE_CASE (예: `MAX_RETRY_COUNT`, `API_BASE_URL`)
- **Boolean 변수**: is/has/can 접두사 사용 (예: `isVisible`, `hasPermission`, `canEdit`)

### 주석 규칙
- **모든 함수 상단에 목적 설명 주석 필수**
- **복잡한 로직에는 단계별 주석 추가**
- **주석은 한국어로 작성**
- **API 호출 함수에는 엔드포인트와 응답 형태 명시**

### 에러 처리 표준
- **모든 함수에 try-catch 블록 포함**
- **에러 발생 시 콘솔 로그 기록**
- **사용자에게는 일반적인 에러 메시지 제공**
- **복구 가능한 에러의 경우 재시도 로직 포함**

## 기능 구현 표준

### 컴포넌트 개발 규칙
- **단일 책임 원칙 준수**: 하나의 컴포넌트는 하나의 기능만 담당
- **Props 타입 정의 필수**: TypeScript 인터페이스로 명확히 정의
- **기본값 설정**: 선택적 props에 대한 기본값 제공
- **메모이제이션 적용**: 성능 최적화를 위해 React.memo, useMemo, useCallback 활용

### 상태 관리 규칙
- **로컬 상태**: useState 사용
- **전역 상태**: Context API 또는 Zustand 사용
- **서버 상태**: React Query 사용
- **폼 상태**: React Hook Form 사용

### API 통신 규칙
- **모든 API 호출은 `src/api/` 디렉토리에 정의**
- **응답 타입 정의 필수**
- **로딩 상태 및 에러 상태 처리**
- **재시도 로직 포함**

## 프레임워크/라이브러리 사용 표준

### 의존성 관리
- **package.json 업데이트 시 package-lock.json도 함께 커밋**
- **새 의존성 추가 전 기존 대안 검토**
- **개발 의존성과 운영 의존성 명확히 구분**
- **버전 고정**: 정확한 버전 명시 (^, ~ 사용 금지)

### UI 라이브러리 사용
- **Tailwind CSS 우선 사용**
- **커스텀 CSS는 최소화**
- **반응형 디자인 필수 적용**
- **다크모드 지원 고려**

## 워크플로우 표준

### 개발 순서
1. **타입 정의 먼저 작성**
2. **컴포넌트 구조 설계**
3. **기본 UI 구현**
4. **로직 구현**
5. **에러 처리 추가**
6. **테스트 코드 작성**
7. **문서 업데이트**

### 파일 생성 순서
1. **타입 정의 파일 (`types.ts`)**
2. **메인 컴포넌트 파일 (`index.tsx`)**
3. **스타일 파일 (필요시)**
4. **테스트 파일 (`*.test.tsx`)**

## 핵심 파일 상호작용 표준

### 동시 업데이트 필수 파일
- **package.json 수정 시**: README.md의 설치 가이드 업데이트
- **새 API 엔드포인트 추가 시**: API 문서 (`docs/api.md`) 업데이트
- **새 컴포넌트 추가 시**: 컴포넌트 문서 (`docs/components.md`) 업데이트
- **환경 변수 추가 시**: `.env.example` 파일 업데이트
- **타입 정의 변경 시**: 관련된 모든 컴포넌트 타입 검증

### 라우팅 관련 규칙
- **새 페이지 추가 시**: 라우터 설정 (`src/App.tsx`) 업데이트
- **네비게이션 메뉴 항목 추가 시**: 메뉴 컴포넌트와 라우터 동시 업데이트

## AI 의사결정 표준

### 우선순위 판단 기준
1. **타입 안전성** > 개발 속도
2. **사용자 경험** > 개발 편의성
3. **성능 최적화** > 코드 간결성
4. **에러 처리** > 기능 구현

### 기술 선택 기준
- **검증된 라이브러리 우선 선택**
- **번들 크기 고려**
- **커뮤니티 지원 수준 확인**
- **프로젝트 요구사항과의 적합성 평가**

### 충돌 해결 규칙
- **타입 에러 발생 시**: 타입 정의 수정 우선
- **성능 이슈 발생 시**: 프로파일링 후 최적화
- **의존성 충돌 시**: 최신 안정 버전으로 통일

## 금지 사항

### 절대 금지
- **any 타입 사용 금지** (불가피한 경우 unknown 사용)
- **console.log 운영 코드에 남기기 금지**
- **하드코딩된 URL이나 설정값 사용 금지**
- **인라인 스타일 사용 금지** (Tailwind CSS 사용)
- **직접적인 DOM 조작 금지** (React 패턴 준수)

### 코드 품질 관련 금지
- **중복 코드 작성 금지** (DRY 원칙 준수)
- **매직 넘버 사용 금지** (상수로 정의)
- **깊은 중첩 구조 금지** (3단계 이상 중첩 지양)
- **거대한 컴포넌트 작성 금지** (200줄 이상 시 분할)

### 파일 관리 관련 금지
- **임시 파일 커밋 금지**
- **빌드 결과물 커밋 금지**
- **환경 변수 파일 커밋 금지** (`.env` 파일)
- **IDE 설정 파일 커밋 금지**

### 성능 관련 금지
- **불필요한 리렌더링 유발 금지**
- **메모리 누수 발생 코드 작성 금지**
- **동기적 API 호출 금지**
- **과도한 의존성 추가 금지**

---

**⚠️ 중요**: 이 문서는 AI 에이전트 전용 가이드라인입니다. 모든 규칙을 엄격히 준수하여 일관된 코드 품질을 유지하세요. 